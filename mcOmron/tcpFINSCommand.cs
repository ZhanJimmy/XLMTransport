using System;
using System.Collections.Generic;
using System.Text;

/**
*┌────────────────────────────┐
*│　CLR 版本：4.0.30319.42000                                          
*│　机    器：E490A-009                                              
*│　作    者：jianmei.zhan
*│　邮    箱：jianmei.zhan@yankon.com 
*│　公    司：厦门阳光恩耐照明有限公司      
*│　部    门：数字化研发部                           
*│　创建时间：2021/11/18 11:11:02                                          
*│　版    本：V1.0.0      
*│　功能描述：                           
*└────────────────────────────┘
*┌────────────────────────────┐
*│　Copyright @ Yankon 2021. All rights reserved                                                                
*└────────────────────────────┘
*/
namespace mcOmron
{
	///  功能描述：
	/// <para>作者：jianmei.zhan</para>
	/// <para>邮箱：jianmei.zhan@yankon.com</para>
	/// <para>时间：2021/11/18 11:11:02</para>
	/// </summary>
	[LicenseProvider(typeof(E4VhgTpmI0OExW7jOPa))]
	public class tcpFINSCommand : IFINSCommand
	{
		private string BhcSUv9Jg;

		private tcpTransport n6BZ2hZsE;

		private byte[] DhgjeXZgf;

		private byte[] Fh3nkH2K0;

		private byte[] KtTlXiKhf;

		private byte[] BUMbXLgyg;

		private ushort XBCqdx9pM;

		private byte[] UhMKZHsk4;

		private ushort r7d5HlCEo;

		public bool Connected
		{
			[MethodImpl(MethodImplOptions.NoInlining)]
			get
			{
				//Discarded unreachable code: IL_0002
				while (false)
				{
					_ = ((object[])null)[0];
				}
				return n6BZ2hZsE.Connected;
			}
		}

		public string LastError
		{
			[MethodImpl(MethodImplOptions.NoInlining)]
			get
			{
				//Discarded unreachable code: IL_0002
				while (false)
				{
					_ = ((object[])null)[0];
				}
				return BhcSUv9Jg;
			}
		}

		public ITransport Transport
		{
			[MethodImpl(MethodImplOptions.NoInlining)]
			get
			{
				//Discarded unreachable code: IL_0002
				while (false)
				{
					_ = ((object[])null)[0];
				}
				return n6BZ2hZsE;
			}
		}

		public byte[] Response
		{
			[MethodImpl(MethodImplOptions.NoInlining)]
			get
			{
				//Discarded unreachable code: IL_0002
				while (false)
				{
					_ = ((object[])null)[0];
				}
				return BUMbXLgyg;
			}
		}

		public byte ICF
		{
			[MethodImpl(MethodImplOptions.NoInlining)]
			get
			{
				//Discarded unreachable code: IL_0002
				while (false)
				{
					_ = ((object[])null)[0];
				}
				return UhMKZHsk4[0];
			}
			[MethodImpl(MethodImplOptions.NoInlining)]
			set
			{
				//Discarded unreachable code: IL_0002
				while (false)
				{
					_ = ((object[])null)[0];
				}
				UhMKZHsk4[0] = value;
			}
		}

		public byte RSC
		{
			[MethodImpl(MethodImplOptions.NoInlining)]
			get
			{
				//Discarded unreachable code: IL_0002
				while (false)
				{
					_ = ((object[])null)[0];
				}
				return UhMKZHsk4[1];
			}
			[MethodImpl(MethodImplOptions.NoInlining)]
			set
			{
				//Discarded unreachable code: IL_0002
				while (false)
				{
					_ = ((object[])null)[0];
				}
				UhMKZHsk4[1] = value;
			}
		}

		public byte GTC
		{
			[MethodImpl(MethodImplOptions.NoInlining)]
			get
			{
				//Discarded unreachable code: IL_0002
				while (false)
				{
					_ = ((object[])null)[0];
				}
				return UhMKZHsk4[2];
			}
			[MethodImpl(MethodImplOptions.NoInlining)]
			set
			{
				//Discarded unreachable code: IL_0002
				while (false)
				{
					_ = ((object[])null)[0];
				}
				UhMKZHsk4[2] = value;
			}
		}

		public byte DNA
		{
			[MethodImpl(MethodImplOptions.NoInlining)]
			get
			{
				//Discarded unreachable code: IL_0002
				while (false)
				{
					_ = ((object[])null)[0];
				}
				return UhMKZHsk4[3];
			}
			[MethodImpl(MethodImplOptions.NoInlining)]
			set
			{
				//Discarded unreachable code: IL_0002
				while (false)
				{
					_ = ((object[])null)[0];
				}
				UhMKZHsk4[3] = value;
			}
		}

		public byte DA1
		{
			[MethodImpl(MethodImplOptions.NoInlining)]
			get
			{
				//Discarded unreachable code: IL_0002
				while (false)
				{
					_ = ((object[])null)[0];
				}
				return UhMKZHsk4[4];
			}
			[MethodImpl(MethodImplOptions.NoInlining)]
			set
			{
				//Discarded unreachable code: IL_0002
				while (false)
				{
					_ = ((object[])null)[0];
				}
				UhMKZHsk4[4] = value;
			}
		}

		public byte DA2
		{
			[MethodImpl(MethodImplOptions.NoInlining)]
			get
			{
				//Discarded unreachable code: IL_0002
				while (false)
				{
					_ = ((object[])null)[0];
				}
				return UhMKZHsk4[5];
			}
			[MethodImpl(MethodImplOptions.NoInlining)]
			set
			{
				//Discarded unreachable code: IL_0002
				while (false)
				{
					_ = ((object[])null)[0];
				}
				UhMKZHsk4[5] = value;
			}
		}

		public byte SNA
		{
			[MethodImpl(MethodImplOptions.NoInlining)]
			get
			{
				//Discarded unreachable code: IL_0002
				while (false)
				{
					_ = ((object[])null)[0];
				}
				return UhMKZHsk4[6];
			}
			[MethodImpl(MethodImplOptions.NoInlining)]
			set
			{
				//Discarded unreachable code: IL_0002
				while (false)
				{
					_ = ((object[])null)[0];
				}
				UhMKZHsk4[6] = value;
			}
		}

		public byte SA1
		{
			[MethodImpl(MethodImplOptions.NoInlining)]
			get
			{
				//Discarded unreachable code: IL_0002
				while (false)
				{
					_ = ((object[])null)[0];
				}
				return UhMKZHsk4[7];
			}
			[MethodImpl(MethodImplOptions.NoInlining)]
			set
			{
				//Discarded unreachable code: IL_0002
				while (false)
				{
					_ = ((object[])null)[0];
				}
				UhMKZHsk4[7] = value;
			}
		}

		public byte SA2
		{
			[MethodImpl(MethodImplOptions.NoInlining)]
			get
			{
				//Discarded unreachable code: IL_0002
				while (false)
				{
					_ = ((object[])null)[0];
				}
				return UhMKZHsk4[8];
			}
			[MethodImpl(MethodImplOptions.NoInlining)]
			set
			{
				//Discarded unreachable code: IL_0002
				while (false)
				{
					_ = ((object[])null)[0];
				}
				UhMKZHsk4[8] = value;
			}
		}

		public byte SID
		{
			[MethodImpl(MethodImplOptions.NoInlining)]
			get
			{
				//Discarded unreachable code: IL_0002
				while (false)
				{
					_ = ((object[])null)[0];
				}
				return UhMKZHsk4[9];
			}
			[MethodImpl(MethodImplOptions.NoInlining)]
			set
			{
				//Discarded unreachable code: IL_0002
				while (false)
				{
					_ = ((object[])null)[0];
				}
				UhMKZHsk4[9] = value;
			}
		}

		public byte MC
		{
			[MethodImpl(MethodImplOptions.NoInlining)]
			get
			{
				//Discarded unreachable code: IL_0002
				while (false)
				{
					_ = ((object[])null)[0];
				}
				return UhMKZHsk4[10];
			}
			[MethodImpl(MethodImplOptions.NoInlining)]
			set
			{
				//Discarded unreachable code: IL_0002
				while (false)
				{
					_ = ((object[])null)[0];
				}
				UhMKZHsk4[10] = value;
			}
		}

		public byte SC
		{
			[MethodImpl(MethodImplOptions.NoInlining)]
			get
			{
				//Discarded unreachable code: IL_0002
				while (false)
				{
					_ = ((object[])null)[0];
				}
				return UhMKZHsk4[11];
			}
			[MethodImpl(MethodImplOptions.NoInlining)]
			set
			{
				//Discarded unreachable code: IL_0002
				while (false)
				{
					_ = ((object[])null)[0];
				}
				UhMKZHsk4[11] = value;
			}
		}

		public ushort FS_LEN
		{
			[MethodImpl(MethodImplOptions.NoInlining)]
			get
			{
				//Discarded unreachable code: IL_0002
				while (false)
				{
					_ = ((object[])null)[0];
				}
				return BTool.BytesToUInt16(DhgjeXZgf[6], DhgjeXZgf[7]);
			}
			[MethodImpl(MethodImplOptions.NoInlining)]
			set
			{
				//Discarded unreachable code: IL_0002
				while (false)
				{
					_ = ((object[])null)[0];
				}
				DhgjeXZgf[6] = (byte)((uint)(value >> 8) & 0xFFu);
				DhgjeXZgf[7] = (byte)(value & 0xFFu);
			}
		}

		public ushort FSR_LEN
		{
			[MethodImpl(MethodImplOptions.NoInlining)]
			get
			{
				//Discarded unreachable code: IL_0002
				while (false)
				{
					_ = ((object[])null)[0];
				}
				return BTool.BytesToUInt16(Fh3nkH2K0[6], Fh3nkH2K0[7]);
			}
		}

		public string FSR_ERR
		{
			[MethodImpl(MethodImplOptions.NoInlining)]
			get
			{
				//Discarded unreachable code: IL_0002
				while (false)
				{
					_ = ((object[])null)[0];
				}
				return Fh3nkH2K0[8].ToString() + Fh3nkH2K0[9] + Fh3nkH2K0[10] + Fh3nkH2K0[11];
			}
		}

		public byte FSR_MER
		{
			[MethodImpl(MethodImplOptions.NoInlining)]
			get
			{
				//Discarded unreachable code: IL_0002
				while (false)
				{
					_ = ((object[])null)[0];
				}
				return KtTlXiKhf[12];
			}
		}

		public byte FSR_SER
		{
			[MethodImpl(MethodImplOptions.NoInlining)]
			get
			{
				//Discarded unreachable code: IL_0002
				while (false)
				{
					_ = ((object[])null)[0];
				}
				return KtTlXiKhf[13];
			}
		}

		[MethodImpl(MethodImplOptions.NoInlining)]
		public tcpFINSCommand(byte ServiceID = 1)
		{
			//Discarded unreachable code: IL_0002
			while (false)
			{
				_ = ((object[])null)[0];
			}
			Mr7uTkdKIb9TFESDMR.psydQZ3zY4Hen();
			BhcSUv9Jg = "";
			n6BZ2hZsE = null;
			DhgjeXZgf = new byte[16]
			{
			70, 73, 78, 83, 0, 0, 0, 0, 0, 0,
			0, 2, 0, 0, 0, 0
			};
			Fh3nkH2K0 = new byte[16];
			KtTlXiKhf = new byte[2048];
			BUMbXLgyg = new byte[2048];
			XBCqdx9pM = 0;
			UhMKZHsk4 = new byte[22]
			{
			128, 0, 2, 0, 0, 0, 0, 0, 0, 0,
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
			0, 0
			};
			r7d5HlCEo = 0;
			base..ctor();
			n6BZ2hZsE = new tcpTransport();
			SID = ServiceID;
		}

		[MethodImpl(MethodImplOptions.NoInlining)]
		public void SetTCPParams(IPAddress ip, int port)
		{
			//Discarded unreachable code: IL_0002
			while (false)
			{
				_ = ((object[])null)[0];
			}
			n6BZ2hZsE.SetTCPParams(ip, port);
		}

		[MethodImpl(MethodImplOptions.NoInlining)]
		public bool Connect()
		{
			//Discarded unreachable code: IL_0002
			while (false)
			{
				_ = ((object[])null)[0];
			}
			try
			{
				n6BZ2hZsE.Connect();
				return NodeAddressDataSend();
			}
			catch (Exception ex)
			{
				BhcSUv9Jg = ex.Message;
				return false;
			}
		}

		[MethodImpl(MethodImplOptions.NoInlining)]
		public void Close()
		{
			//Discarded unreachable code: IL_0002
			while (false)
			{
				_ = ((object[])null)[0];
			}
			n6BZ2hZsE.Close();
		}

		[MethodImpl(MethodImplOptions.NoInlining)]
		public bool MemoryAreaRead(MemoryArea area, ushort address, byte bit_position, ushort count)
		{
			//Discarded unreachable code: IL_0002
			while (false)
			{
				_ = ((object[])null)[0];
			}
			try
			{
				MC = 1;
				SC = 1;
				UhMKZHsk4[12] = (byte)area;
				UhMKZHsk4[13] = (byte)((uint)(address >> 8) & 0xFFu);
				UhMKZHsk4[14] = (byte)(address & 0xFFu);
				UhMKZHsk4[15] = bit_position;
				UhMKZHsk4[16] = (byte)((uint)(count >> 8) & 0xFFu);
				UhMKZHsk4[17] = (byte)(count & 0xFFu);
				r7d5HlCEo = 18;
				return MchDxUboE(null);
			}
			catch (Exception ex)
			{
				BhcSUv9Jg = ex.Message;
				return false;
			}
		}

		[MethodImpl(MethodImplOptions.NoInlining)]
		public bool MemoryAreaWrite(MemoryArea area, ushort address, byte bit_position, ushort count, ref byte[] data)
		{
			//Discarded unreachable code: IL_0002
			while (false)
			{
				_ = ((object[])null)[0];
			}
			try
			{
				MC = 1;
				SC = 2;
				UhMKZHsk4[12] = (byte)area;
				UhMKZHsk4[13] = (byte)((uint)(address >> 8) & 0xFFu);
				UhMKZHsk4[14] = (byte)(address & 0xFFu);
				UhMKZHsk4[15] = bit_position;
				UhMKZHsk4[16] = (byte)((uint)(count >> 8) & 0xFFu);
				UhMKZHsk4[17] = (byte)(count & 0xFFu);
				r7d5HlCEo = 18;
				return MchDxUboE(data);
			}
			catch (Exception ex)
			{
				BhcSUv9Jg = ex.Message;
				return false;
			}
		}

		[MethodImpl(MethodImplOptions.NoInlining)]
		public bool ConnectionDataRead(byte area)
		{
			//Discarded unreachable code: IL_0002
			while (false)
			{
				_ = ((object[])null)[0];
			}
			try
			{
				MC = 5;
				SC = 1;
				UhMKZHsk4[12] = area;
				r7d5HlCEo = 13;
				return MchDxUboE(null);
			}
			catch (Exception ex)
			{
				BhcSUv9Jg = ex.Message;
				return false;
			}
		}

		[MethodImpl(MethodImplOptions.NoInlining)]
		public bool NodeAddressDataSend()
		{
			//Discarded unreachable code: IL_0002
			while (false)
			{
				_ = ((object[])null)[0];
			}
			byte[] command = new byte[20]
			{
			70, 73, 78, 83, 0, 0, 0, 12, 0, 0,
			0, 0, 0, 0, 0, 0, 0, 0, 0, 0
			};
			Transport.Send(ref command, command.Length);
			byte[] response = new byte[24];
			Transport.Receive(ref response, response.Length);
			if (response[15] != 0)
			{
				BhcSUv9Jg = h6ptfFlEpeefrCDnHq.HRxMyvoA8(94) + response[15];
				Close();
				return false;
			}
			if (response[8] != 0 || response[9] != 0 || response[10] != 0 || response[11] != 1)
			{
				BhcSUv9Jg = h6ptfFlEpeefrCDnHq.HRxMyvoA8(138) + response[8] + h6ptfFlEpeefrCDnHq.HRxMyvoA8(198) + response[9] + h6ptfFlEpeefrCDnHq.HRxMyvoA8(198) + response[10] + h6ptfFlEpeefrCDnHq.HRxMyvoA8(198) + response[11];
				Close();
				return false;
			}
			DA1 = response[23];
			SA1 = response[19];
			return true;
		}

		[MethodImpl(MethodImplOptions.NoInlining)]
		private bool MchDxUboE(byte[]  )
		{
			//Discarded unreachable code: IL_0002
			while (false)
			{
				_ = ((object[])null)[0];
			}
			int num = 0;
			while (num < Fh3nkH2K0.Length)
			{
				Fh3nkH2K0[num++] = 0;
			}
			int num2 = r7d5HlCEo + 8;
			if (  != null)
			{
				num2 +=  .Length;
			}
			FS_LEN = (ushort)num2;
			Transport.Send(ref DhgjeXZgf, DhgjeXZgf.Length);
			Transport.Send(ref UhMKZHsk4, r7d5HlCEo);
			if (  != null)
			{
				Transport.Send(ref  ,  .Length);
			}
			Transport.Receive(ref Fh3nkH2K0, Fh3nkH2K0.Length);
			if (FSR_ERR != h6ptfFlEpeefrCDnHq.HRxMyvoA8(204))
			{
				BhcSUv9Jg = h6ptfFlEpeefrCDnHq.HRxMyvoA8(216) + FSR_ERR;
				return false;
			}
			if (Fh3nkH2K0[15] != 0)
			{
				BhcSUv9Jg = h6ptfFlEpeefrCDnHq.HRxMyvoA8(256) + Fh3nkH2K0[15];
				return false;
			}
			XBCqdx9pM = FSR_LEN;
			XBCqdx9pM -= 8;
			Transport.Receive(ref KtTlXiKhf, 14);
			if (XBCqdx9pM > 14)
			{
				Transport.Receive(ref BUMbXLgyg, XBCqdx9pM - 14);
			}
			if (FSR_MER != 0 || FSR_SER != 0)
			{
				BhcSUv9Jg += string.Format(h6ptfFlEpeefrCDnHq.HRxMyvoA8(314), FSR_MER, FSR_SER);
				return false;
			}
			return true;
		}

		[MethodImpl(MethodImplOptions.NoInlining)]
		public string LastDialog(string Caption)
		{
			//Discarded unreachable code: IL_0002
			while (false)
			{
				_ = ((object[])null)[0];
			}
			StringBuilder stringBuilder = new StringBuilder(Caption + Environment.NewLine);
			stringBuilder.Append(Environment.NewLine);
			stringBuilder.Append(h6ptfFlEpeefrCDnHq.HRxMyvoA8(410) + Environment.NewLine);
			stringBuilder.Append(BitConverter.ToString(DhgjeXZgf) + Environment.NewLine);
			stringBuilder.Append(h6ptfFlEpeefrCDnHq.HRxMyvoA8(432) + Environment.NewLine);
			stringBuilder.Append(BitConverter.ToString(UhMKZHsk4, 0, r7d5HlCEo) + Environment.NewLine);
			stringBuilder.Append(h6ptfFlEpeefrCDnHq.HRxMyvoA8(460) + Environment.NewLine);
			stringBuilder.Append(BitConverter.ToString(Fh3nkH2K0) + Environment.NewLine);
			stringBuilder.Append(h6ptfFlEpeefrCDnHq.HRxMyvoA8(486) + Environment.NewLine);
			stringBuilder.Append(BitConverter.ToString(KtTlXiKhf, 0, 14) + Environment.NewLine);
			stringBuilder.Append(h6ptfFlEpeefrCDnHq.HRxMyvoA8(516) + Environment.NewLine);
			stringBuilder.Append(BitConverter.ToString(BUMbXLgyg, 0, XBCqdx9pM - 14) + Environment.NewLine);
			stringBuilder.Append(h6ptfFlEpeefrCDnHq.HRxMyvoA8(538) + BhcSUv9Jg + Environment.NewLine);
			stringBuilder.Append(Environment.NewLine);
			return stringBuilder.ToString();
		}

		[MethodImpl(MethodImplOptions.NoInlining)]
		static tcpFINSCommand()
		{
			//Discarded unreachable code: IL_0002
			while (false)
			{
				_ = ((object[])null)[0];
			}
			LicenseManager.Validate(typeof(tcpFINSCommand));
		}
	}
}
